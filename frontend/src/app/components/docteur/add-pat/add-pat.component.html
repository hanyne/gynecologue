<div class="example-container">
    <mat-card class="box">
      <mat-card-header>
        <mat-card-title>Ajout de patiente </mat-card-title>
      </mat-card-header>
      <form class="example-form" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <mat-card-content class="example-card">
          <mat-form-field>
            <mat-label>Nom</mat-label>
            <input matInput placeholder="Nom" formControlName="nomP" 
             minlength="3"
            maxlength="20"  
            [ngClass]="{ 'is-invalid': submitted && f['nomP'].errors }">
            <div class="invalid-feedback" *ngIf="f['nomP'].errors && submitted">
              <div *ngIf="f['nomP'].errors['required']">Username is required</div>
              <div *ngIf="f['nomP'].errors['minlength']">
                Username must be at least 3 characters
              </div>
              <div *ngIf="f['nomP'].errors['maxlength']">
                Username must be at most 20 characters
              </div>
            </div>
          </mat-form-field>
          <mat-form-field >
            <mat-label>Prenom</mat-label>
            <input matInput placeholder="Prenom" formControlName="prenomP"    
             minlength="3"
            maxlength="20"  
            [ngClass]="{ 'is-invalid': submitted && f['prenomP'].errors }">
            <div class="invalid-feedback" *ngIf="f['prenomP'].errors && submitted">
              <div *ngIf="f['prenomP'].errors['required']">Username is required</div>
              <div *ngIf="f['prenomP'].errors['minlength']">
                Username must be at least 3 characters
              </div>
              <div *ngIf="f['prenomP'].errors['maxlength']">
                Username must be at most 20 characters
              </div>
            </div>
          </mat-form-field>
          <mat-form-field>
            <mat-label>NumÂ° tel</mat-label>
            <input formControlName="tel" matInput type="number" placeholder="tel"
            title="Please enter exactly 8 numbers"
            [ngClass]="{ 'is-invalid': submitted && f['tel'].errors }">
            <div class="invalid-feedback" *ngIf="f['tel'].errors && submitted">
              <div *ngIf="f['tel'].errors['required']">Num de Telephone is required</div>
              </div>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Email</mat-label>
          <input formControlName="email" matInput type="email" placeholder="tel"
          [ngClass]="{ 'is-invalid': submitted && f['email'].errors }">
          <div class="invalid-feedback" *ngIf="f['email'].errors && submitted">
            <div *ngIf="f['email'].errors['required']">Email is required</div>
            <div *ngIf="f['email'].errors['pattern']">Email is invalid</div>
            </div>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Date de naissance</mat-label>
          <input formControlName="naissance" matInput [matDatepicker]="naissance" 
          [ngClass]="{ 'is-invalid': submitted && f['naissance'].errors }">
          <div class="invalid-feedback" *ngIf="f['naissance'].errors && submitted">
            <div *ngIf="f['naissance'].errors['required']">Date is required</div>
          </div>
          <mat-datepicker-toggle matIconSuffix [for]="naissance"  ></mat-datepicker-toggle>
          <mat-datepicker #naissance></mat-datepicker>
        </mat-form-field>
          <mat-form-field >
            <mat-label>userName</mat-label>
            <input matInput placeholder="userName" formControlName="userName"
            [ngClass]="{ 'is-invalid': submitted && f['userName'].errors }"
            />
            <div class="invalid-feedback" *ngIf="f['userName'].errors && submitted">
              <div *ngIf="f['userName'].errors['required']">userName is required</div>
              <div *ngIf="f['userName'].errors['userName']">
                userName must be a valid userName address
              </div>
            </div>
          </mat-form-field>
          <mat-form-field >
            <mat-label>Mot de passe</mat-label>
            <input matInput  [type]="hide ? 'password' : 'text'" formControlName="password"
            [ngClass]="{ 'is-invalid': submitted && f['password'].errors }"/>
            <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
              <mat-icon> {{hide ? 'visibility_off' : 'visibility'}} </mat-icon>
            </button>
            <div class="invalid-feedback" *ngIf="f['password'].errors && submitted">
              <div *ngIf="f['password'].errors['required']">password is required</div>
              <div *ngIf="f['password'].errors['pattern']">password is invalid</div>
              </div>
          </mat-form-field>
        </mat-card-content>
        <button mat-stroked-button color="accent" class="btn-block">Ajouter</button>
      </form>
      <mat-card-footer>
        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
      </mat-card-footer>
    </mat-card>
  </div>